/**
 * Based upon http://lamb.cc/typograph/
 */

scale_type(position = 0)
  position = _sequence_center + position
  font_size = (_typographic_scale[position])rem

  // We work with thirds
  line_height = unit(_line_height / 2, '')
  lines_req = font_size / line_height

  // If line is too squishy
  if lines_req % 1 > 0.5
    lines_req = lines_req + 1

  // Always ceil
  lines_req = ceil(lines_req)

  font-size unit(round(font_size * _base_size/100 * 16), 'px')
  font-size unit(font_size, 'rem')
  line-height unit(round(lines_req * line_height * _base_size/100 * 16), 'px')
  line-height unit(lines_req * line_height, 'rem')

line_breaks(n = 1)
  return (_line_height*n)rem

